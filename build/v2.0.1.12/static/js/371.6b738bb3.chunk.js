webpackJsonp([371],{1865:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var a=n(38),o=n.n(a),s=n(256),u=n.n(s),i=n(3170),c=n(491),p=n.n(c),f=(n(260),n(3172)),m=new f.a,l={namespace:"M01338020A040LT00201",state:i.a,subscriptions:{historyListenEvent:function(e){var n=e.history,r=e.dispatch;return n.listen(function(e){var n=p()("/main/:tabIndex/0133/80/20/A/040/L/T/002/01/:paramobject/:encryptstr").exec(e.pathname);if(n){var a=t.__COMPARISON__&&t.__COMPARISON__(n);r({type:"updateState",routeParams:a})}})}},effects:{init:o.a.mark(function t(e,n){var r,a,s,i,c=n.select,p=n.call,f=n.put;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(m.queryListConfigStatsTyp,{menuTypGrade:1,pageStart:1,pageLength:1e3});case 2:return r=t.sent,t.next=5,p(m.queryListConfigStatsTyp,{menuTypGrade:2,pageStart:1,pageLength:1e3});case 5:return a=t.sent,t.next=8,c(function(t){return t.M01338020A040LT00201});case 8:return s=t.sent,i=u()(s.elementsmore),i.bigCategories.componentOptions.options=r.data.map(function(t,e){return{key:e,value:String(t.menu_typ_id),text:t.menu_typ_nm}}),i.smallCategories.componentOptions.options=a.data.map(function(t,e){return{key:e,value:String(t.menu_typ_id),text:t.menu_typ_nm,parent:t.parent_typ_id}}),t.next=14,f({type:"getAllMeal",formdata:{}});case 14:return t.next=16,f({type:"updateState",elementsmore:i});case 16:case"end":return t.stop()}},t,this)}),bigstus:o.a.mark(function t(e,n){var r,a,s,i=e.value,c=n.select,p=n.call,f=n.put;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(m.queryListConfigStatsTyp,{menuTypGrade:2,pageStart:1,pageLength:1e3,parentTypId:i});case 2:return r=t.sent,t.next=5,c(function(t){return t.M01338020A040LT00201});case 5:return a=t.sent,s=u()(a.elementsmore),s.smallCategories.componentOptions.options=r.data.map(function(t,e){return{key:e,value:String(t.menu_typ_id),text:t.menu_typ_nm,parent:t.parent_typ_id}}),t.next=10,f({type:"updateState",elementsmore:s});case 10:case"end":return t.stop()}},t,this)}),getAllMeal:o.a.mark(function t(e,n){var a,s,u,i=e.formdata,c=e.mark,p=n.select,f=n.call,l=n.put;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(function(t){return t.M01338020A040LT00201});case 2:return a=t.sent,s={menuTypId:i.smallCategories,filter:i.fastQuery,pageLength:a.pageSize,priceFlg:1,pageStart:a.currentPage},t.next=6,f(m.queryListConfigMenu,s);case 6:return u=t.sent,t.next=9,l({type:"updateState",sourcedata:c?[].concat(r(a.sourcedata),r(u.data)):u.data,currentPage:u.currentPage,pageSize:u.pageSize,recordsTotal:u.recordsTotal});case 9:case"end":return t.stop()}},t,this)}),detail:o.a.mark(function(t,e){var n,r,a,s=t.id,i=e.select,c=e.call,p=e.put;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(m.getCookBook,{cookbookId:s});case 2:return n=t.sent,t.next=5,i(function(t){return t.M01338020A040LT00201});case 5:return r=t.sent,a=u()(r.formData),a.menuDescribe=n.cookbook_nm,a.statsTypSeq=n.cookbook_seq,t.next=11,p({type:"updateState",formData:a,defaultmealdata:n.item,cookbook_id:n.cookbook_id});case 11:case"end":return t.stop()}},n,this)}),save:o.a.mark(function t(e,n){var r=e.ifedit,a=e.postdata,s=(n.select,n.call);n.put;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(r?m.editCookBook:m.savePosInsConfigCookbook,a);case 2:case"end":return t.stop()}},t,this)})},reducers:{updateState:function(t,e){return Object.assign({},t,e)}}};e.default=l}.call(e,n(15))},3170:function(t,e,n){"use strict";var r=n(511);n(3171);e.a={cookbook_id:"",currentPage:1,pageSize:20,recordsTotal:0,sourcedata:[],defaultmealdata:[],routeParams:{},rightOperTop:{save:{text:"\u4fdd\u5b58",className:"icon32 img81",keyboard:"GF08"},back:{text:"\u53d6\u6d88",className:"icon32 img83",keyboard:"GF10"}},elements:{menuDescribe:{type:"input",width:4,interactionOptions:{isMust:!0},componentOptions:{text:r.a.menuDescribe}},statsTypSeq:{type:"input",width:4,componentOptions:{text:r.a.statsTypSeq}}},elementsmore:{bigCategories:{type:"select",width:8,componentOptions:{selection:!0,text:r.a.bigmenu}},smallCategories:{type:"select",width:8,componentOptions:{selection:!0,text:r.a.smallmenu}},fastQuery:{type:"input",width:12,componentOptions:{text:r.a.fastquery}},search:{type:"button",width:2,componentOptions:{content:r.a.search}}},formdatamore:{bigCategories:"",smallCategories:"",fastQuery:""},formData:{menuDescribe:"",statsTypSeq:""}}},3171:function(t,e,n){"use strict"},3172:function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(a,o){try{var s=e[a](o),u=s.value}catch(t){return void n(t)}if(!s.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}return r("next")})}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return p});var o=n(38),s=n.n(o),u=n(257),i=n(489),c=(n(260),n(511),new i.a),p=function t(){var e=this;a(this,t),this.getDictionary=function(){var t=r(s.a.mark(function t(n){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.queryDictionary(n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.getPosParamByTypAndSalerList=function(){var t=r(s.a.mark(function t(n){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.a)("/bs/Dictionary/getPosParamByTypAndSalerList","get",n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.getDicTaxTyp=function(){var t=r(s.a.mark(function t(n){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.a)("/bs/Dictionary/getDicTaxTyp","get",n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryListConfigStatsTyp=function(){var t=r(s.a.mark(function t(n){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.a)("/bs/3310010/PosCookbook/listGetConfigMenuTyp","get",n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryListConfigMenu=function(){var t=r(s.a.mark(function t(n){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.a)("/bs/3310010/PosCookbook/listGetConfigMenu","get",n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.savePosInsConfigCookbook=function(){var t=r(s.a.mark(function t(n){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.a)("/bs/3310010/PosCookbook/savePosInsConfigCookbook","post",n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.getCookBook=function(){var t=r(s.a.mark(function t(n){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.a)("/bs/3310010/PosCookbook/listGetConfigCookbookItem","get",n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.editCookBook=function(){var t=r(s.a.mark(function t(n){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.a)("/bs/3310010/PosCookbook/savePosUpdConfigCookbook","post",n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()}}});