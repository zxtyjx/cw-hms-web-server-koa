webpackJsonp([434],{1517:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var i=n(38),a=n.n(i),o=n(18),s=n.n(o),c=n(17),u=n.n(c),p=n(256),l=n.n(p),f=n(2653),m=n(60),d=(n.n(m),n(2654)),b=new d.a,v={namespace:"M01353020A020LP00901",state:Object.assign({},f.a),subscriptions:{},effects:{init:a.a.mark(function t(e,n){var r,i,o,s,c,u,p,m,d=(n.select,n.put),v=n.call;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={corpNo:e.modalParams.corpNo,subIds:[e.modalParams.id]},i=["POSTYP"],t.next=4,v(b.init,i,r);case 4:return o=t.sent,s=o.dictTyps,c=o.UnitList,u=o.detailList,p=l()(f.a.elements),p.unitUid.componentOptions.options=h(c.data),p.itemIds.componentOptions.options=s.POSTYP,m={itemIds:p.itemIds},0!==u.length&&"5"===u[0].noticeFlg||delete p.itemIds,u.length>0&&u[0].subDto&&(u[0].itemIds=u[0].subDto.itemIds),t.next=16,d({type:"initComplete",elements:p,posPoint:m,originData:u,formData:Object.assign({},f.a.formData,u[0])});case 16:case"end":return t.stop()}},t,this)}),submitFormData:a.a.mark(function t(e,n){var r,i,o,s,c,u,p,f,m=n.select,d=n.put,v=n.call;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.formData,i=e.id,o=e.corpNo,t.next=3,m(function(t){return t});case 3:if(s=t.sent,c=s.M01353020A020LP00901,u=l()(c.formData),Object.assign(u,r),u.id||(u.id=""),-1!==i){t.next=14;break}return p={submitData:[u],corpNo:""+o},t.next=12,v(b.Createblackguest,p);case 12:t.next=17;break;case 14:return f={originData:c.originData,submitData:[u],corpNo:""+o},t.next=17,v(b.Updateblackguest,f);case 17:return t.next=19,d({type:"SystemModel/updateModalWindowState",key:"01353020A020LP00801",title:"\u5355\u4f4d\u5907\u6ce8",customContentStyle:{height:"500px"},params:{corp_No:o}});case 19:return t.next=21,d({type:"01353020A020LP00801/queryList"});case 21:case"end":return t.stop()}},t,this)})},reducers:{initComplete:function(t,e){var n=e.formData,r=e.elements,i=e.posPoint,a=e.originData;return Object.assign({},t,{elements:r,formData:n,posPoint:i,originData:a})},updateFormData:function(t,e){var n=null,i=null;return n=u()(e,"formData")?Object.assign({},t.formData,e.formData):Object.assign({},t.formData,r({},e.fieldName,e.fieldValue)),"5"===e.formData.noticeFlg?i=Object.assign({},t.elements,t.posPoint):(delete t.elements.itemIds,i=Object.assign({},t.elements)),Object.assign({},t,{formData:n,elements:i})}}},h=function(t){var e=[];return s()(t,function(t,n){e.push({value:t.unit_uid,text:t.unit_cd+" "+t.unit_nm})}),e};e.default=v},2653:function(t,e,n){"use strict";(function(t){var r=n(593);t.__GETBUSINESSDT__&&t.__GETBUSINESSDT__();e.a={elements:{unitUid:{type:"select",width:16,disabled:!0,interactionOptions:{},componentOptions:{selection:!0,text:r.a.unitDrpt}},noticeFlg:{type:"select",width:16,defaultValue:"0",interactionOptions:{isMust:!0,findCondition:""},componentOptions:{selection:!0,text:r.a.noticeFlg,options:[{key:"1",text:r.a.noticeFlgoptions1,value:"0"},{key:"2",text:r.a.noticeFlgoptions2,value:"1"},{key:"3",text:r.a.noticeFlgoptions3,value:"2"},{key:"4",text:r.a.noticeFlgoptions4,value:"3"},{key:"5",text:r.a.noticeFlgoptions5,value:"4"}]}},noticeTitle:{type:"input",width:16,componentOptions:{text:r.a.noticeTitle}},memo:{type:"input",width:16,interactionOptions:{isMust:!0,findCondition:""},componentOptions:{text:r.a.memo}},itemIds:{type:"select",width:16,interactionOptions:{findCondition:""},componentOptions:{selection:!0,text:r.a.itemIds,multiple:!0}}},formData:{unitUid:"",noticeFlg:"",itemIds:[],noticeTitle:"",memo:""},posPoint:{}}}).call(e,n(15))},2654:function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(i,a){try{var o=e[i](a),s=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return p});var a=n(38),o=n.n(a),s=n(257),c=n(489),u=new c.a,p=function t(){var e=this;i(this,t),this.init=function(){var t=r(o.a.mark(function t(n,r){var i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.queryUnitList(),u.queryDictionary(n),e.GetDataDetail(r)]);case 2:return i=t.sent,t.abrupt("return",{UnitList:i[0],dictTyps:i[1],detailList:i[2]});case 4:case"end":return t.stop()}},t,e)}));return function(e,n){return t.apply(this,arguments)}}(),this.GetDataDetail=function(){var t=r(o.a.mark(function t(n){var r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.a)("/bs/3520010/GrpCrmCorpNotice/getEntityById","get",n);case 2:return r=t.sent,i=r.resultData,t.abrupt("return",i);case 5:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.Createblackguest=function(){var t=r(o.a.mark(function t(n){var r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.a)("/bs/3520010/GrpCrmCorpNotice/saveNotice","post",n);case 2:return r=t.sent,i=r.resultData,t.abrupt("return",i);case 5:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.Updateblackguest=function(){var t=r(o.a.mark(function t(n){var r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.a)("/bs/3520010/GrpCrmCorpNotice/updateNotice","post",n);case 2:return r=t.sent,i=r.resultData,t.abrupt("return",i);case 5:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryUnitList=function(){var t=r(o.a.mark(function t(n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.a)("/bs/3140010/GrpCmmUnit/queryUnitList","get",{});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()}}});