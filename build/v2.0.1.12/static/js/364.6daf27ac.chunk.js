webpackJsonp([364],{1778:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function r(e){var t=e.baseFormData;return{currentPage:e.currentPage,pageSize:e.pageSize,fastquery:t.fastquery,upgradepolicyId:t.upgradepolicyId,memberStusValid:t.memberStusValid?"1":void 0,memberStusInValid:t.memberStusInValid?"0":void 0,memberStusOverdue:t.memberStusOverdue?"4":void 0}}var n=a(38),s=a.n(n),i=a(22),c=a.n(i),o=a(256),u=a.n(o),p=a(3023),l=a(492),m=a.n(l),d=a(3025),f=new d.a,b={namespace:"M01372510A040LT00101",state:p.a,subscriptions:{historyListenEvent:function(t){var a=t.history,r=t.dispatch;return a.listen(function(t){var a=m()("/main/:tabindex/0137/25/10/A/040/L/T/001/01/:paramobject/:encryptstr").exec(t.pathname);if(a){var n=e.__COMPARISON__&&e.__COMPARISON__(a);r({type:"init",routeParams:n})}})}},effects:{init:s.a.mark(function t(a,n){var i,c,o,l,m,d,b,h,g,y,v=(n.select,n.put),x=n.call;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=u()(p.a),t.next=3,x(e.__GETCACHEDATA__,"M01372510A040LT00101",i,[]);case 3:return c=t.sent,o={},c?(o=r(c),o.currentPage=1,o.pageSize=c.currentPage*c.pageSize):o=r(i),l=i.columnData,m=a.routeParams.showBack,d=i.rightOperTop,m||(d={}),t.next=12,x(f.init,o,{});case 12:return b=t.sent,h=b.memberListData,g=b.dictTyps,y=i.baseElements,y.upgradepolicyId.componentOptions.options=g.STRATEGY,t.next=19,v({type:"initComplete",data:{rightOperTop:d,baseElements:y,currentPage:h.currentPage,pageSize:h.pageSize,recordsTotal:h.recordsTotal,memberList:h.data,routeParams:a.routeParams,dictionaryData:g,columnData:l},cacheData:c});case 19:case"end":return t.stop()}},t,this)}),currentPageChange:s.a.mark(function e(t,a){var n,i,c,o,u=a.select,p=a.put,l=a.call;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(function(e){return e.M01372510A040LT00101});case 2:return n=e.sent,i=r(n),i=Object.assign({},i,t.paramdata),e.next=7,l(f.queryList,i);case 7:return c=e.sent,o=Object.assign([],n.memberList),n.currentPage>c.currentPage?o.unshift.apply(o,c.data):o.push.apply(o,c.data),e.next=12,p({type:"queryListComplete",data:{currentPage:c.currentPage,pageSize:c.pageSize,recordsTotal:c.recordsTotal,memberList:o}});case 12:case"end":return e.stop()}},e,this)}),queryListData:s.a.mark(function e(t,a){var n,i,c,o=a.select,u=a.put,p=a.call;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(function(e){return e.M01372510A040LT00101});case 2:return n=e.sent,i=r(n),e.next=6,p(f.queryList,i);case 6:return c=e.sent,e.next=9,u({type:"queryListComplete",data:{currentPage:c.currentPage,pageSize:c.pageSize,recordsTotal:c.recordsTotal,memberList:c.data}});case 9:case"end":return e.stop()}},e,this)}),adjustMembership:s.a.mark(function e(t,a){var r,n,i,c=a.select,o=a.put,u=a.call;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(function(e){return e.M01372510A040LT00101});case 2:return r=e.sent,n=r.baseFormData,i=t.isAdjustSeletedMemerShip?r.checkedData:null,e.next=7,u(f.updateLpsBnsMemberlevel,{submitData:{memberUpgradeRequestDto:{upgradepolicyId:n.upgradepolicyId,memberNos:i}}});case 7:return e.next=9,o({type:"queryListData",successmessage:t.successmessage});case 9:case"end":return e.stop()}},e,this)}),confirmCbDispatch:s.a.mark(function e(t,a){var r=(a.select,a.put);a.call;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.confirm){e.next=3;break}return e.next=3,r({type:t.cbParams.cbDispatchTyp,isAdjustSeletedMemerShip:t.cbParams.isAdjustSeletedMemerShip});case 3:case"end":return e.stop()}},e,this)})},reducers:{updateBaseFormData:function(e,t){return Object.assign({},e,{baseFormData:Object.assign({},e.baseFormData,t.formData)})},updateRootStateProp:function(e,t){return Object.assign({},e,t.updateObj)},initComplete:function(e,t){return c()(t.cacheData)>0?Object.assign({},t.cacheData,{columnData:t.data.columnData,memberList:t.data.memberList,recordsTotal:t.data.recordsTotal,pageSize:t.data.pageSize,currentPage:t.data.currentPage}):Object.assign({},e,t.data)},queryListComplete:function(e,t){return Object.assign({},e,t.data)}}};t.default=b}.call(t,a(15))},3023:function(e,t,a){"use strict";var r=a(655),n=a(3024),s=a(60),i=a.n(s);t.a={rightOperTop:{back:{text:"\u8fd4\u56de",className:"icon32 img83",keyboard:"GF10"}},rightOperCenter:{adjustSelectedMembership:{text:r.a.adjustSelectedMembership,className:"icon20 img182",permsCode:n.a[35400022],keyboard:"0137-2510-A-040-L-T-001-L01"},adjustAllMembership:{text:r.a.adjustAllMembership,className:"icon20 img183",permsCode:n.a[35400023],keyboard:"0137-2510-A-040-L-T-001-L02"}},rightOperBottom:{},baseElements:{fastquery:{type:"input",width:4,interactionOptions:{},componentOptions:{placeholder:r.a.fastQuery}},upgradepolicyId:{type:"select",width:2,interactionOptions:{},componentOptions:{selection:!0,text:r.a.upgradepolicyId}},memberStusValid:{type:"checkbox",className:"",interactionOptions:{findCondition:""},componentOptions:{label:r.a.valid,className:""}},memberStusInValid:{type:"checkbox",className:"",interactionOptions:{findCondition:""},componentOptions:{label:r.a.invalid,className:""}},memberStusOverdue:{type:"checkbox",className:"",interactionOptions:{findCondition:""},componentOptions:{label:r.a.overdue,className:""}}},baseFormData:{fastquery:"",memberStusValid:!0},columnData:[{title:r.a.status_flg,field:"status_flg",width:"10%",template:function(e){var t=r.a.status_valid,a=r.a.status_invalid;return"1"===e.text?{toolTipText:t,content:t}:{toolTipText:a,content:a}}},{title:r.a.member_no,field:"member_no",width:"10%"},{title:r.a.alt_nm,field:"alt_nm",width:"10%"},{title:r.a.org_memberrank_nm,field:"org_memberrank_nm",width:"10%"},{title:r.a.new_memberrank_nm,field:"new_memberrank_nm",width:"10%"},{title:r.a.mcard_no,field:"mcard_no",width:"10%"},{title:r.a.realcard_num,field:"realcard_num",width:"10%"},{title:r.a.total_point,field:"total_point",width:"10%"},{title:r.a.point_bal,field:"point_bal",width:"10%"},{title:r.a.join_date,field:"join_date",width:"10%",template:function(e){return{toolTipText:i()(e.text).format("L"),content:i()(e.text).format("L")}}}],checkedData:[],currentPage:1,pageSize:30,recordsTotal:0,memberList:[],dictionaryData:{},routeParams:{},permsData:n.a}},3024:function(e,t,a){"use strict";t.a={35400022:["35400022","35400022G","35400022H"],35400023:["35400023","35400023G","35400023H"]}},3025:function(e,t,a){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function r(n,s){try{var i=t[n](s),c=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});e(c)}return r("next")})}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a.d(t,"a",function(){return p});var s=a(38),i=a.n(s),c=a(257),o=a(489),u=a(260),p=(new o.a,function e(){var t=this;n(this,e),this.init=function(){var e=r(i.a.mark(function e(a,r){var n,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.queryList(a),t.getupgradepolicynm(r)]);case 2:return n=e.sent,s={},s.STRATEGY=Object(u.b)(n[1].data,["upgradepolicy_cd","upgradepolicy_nm"],"upgradepolicy_id"),e.abrupt("return",{memberListData:n[0],dictTyps:s});case 6:case"end":return e.stop()}},e,t)}));return function(t,a){return e.apply(this,arguments)}}(),this.queryList=function(){var e=r(i.a.mark(function e(a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)("/bs/3540010/LpsBnsMemberlevel/queryLpsBnsMemberlevelList","get",a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}(),this.updateLpsBnsMemberlevel=function(){var e=r(i.a.mark(function e(a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)("/bs/3540010/LpsBnsMemberlevel/updateLpsBnsMemberlevel","post",a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}(),this.getupgradepolicynm=function(){var e=r(i.a.mark(function e(a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)("/bs/3540010/LpsBnsMember/getupgradepolicynm","get",a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()})}});