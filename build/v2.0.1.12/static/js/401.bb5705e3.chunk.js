webpackJsonp([401],{1713:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t){function i(t){return function(){var n=t.apply(this,arguments);return new Promise(function(t,e){function i(o,a){try{var r=n[o](a),s=r.value}catch(t){return void e(t)}if(!r.done)return Promise.resolve(s).then(function(t){i("next",t)},function(t){i("throw",t)});t(s)}return i("next")})}}function o(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var a=e(38),r=e.n(a),s=e(17),c=e.n(s),p=e(22),u=e.n(p),d=e(256),m=e.n(d),l=e(2899),h=e(492),f=e.n(h),O=(e(260),e(489)),I=e(2900),y=function(){var t=i(r.a.mark(function t(n,e,i,o){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=[],n&&(a.push({key:"PROVINCE",typ:"PROVINCE",paramgrpId:n}),null!=e&&(a.push({key:"CITY",typ:"CITY",paramgrpId:e}),null!=i&&a.push({key:"DISTRICT",typ:"DISTRICT",paramgrpId:i}))),0!=a.length){t.next=4;break}return t.abrupt("return",{});case 4:return t.next=6,b.getDictionaryGrp(a);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,this)}));return function(n,e,i,o){return t.apply(this,arguments)}}(),b=new O.a,D=new I.a,C={namespace:"M01328000A010LT00201",state:l.a,subscriptions:{historyListenEvent:function(n){var e=n.history,i=n.dispatch;return e.listen(function(n){var e=f()("/main/:tabIndex/0132/80/00/A/010/L/T/002/01/:paramobject/:encryptstr").exec(n.pathname);if(e){var o=t.__COMPARISON__&&t.__COMPARISON__(e);i({type:"init",routeParams:o})}})}},effects:{init:r.a.mark(function n(e,i){var o,a,s,c,p,u,d,h,f,O,I,b,C,x,g,N,v=(i.select,i.put),_=i.call;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.routeParams.unitUid,a=["BRAND","STAR","REGION","COUNTRY"],s={unitUid:o},n.next=5,_(D.init,s,a);case 5:return c=n.sent,p=c.dictyp,u=c.unitInfo,d=m()(l.a),d.hotElements.brandId.componentOptions.options=p.BRAND,d.hotElements.starsId.componentOptions.options=p.STAR,d.hotElements.regionId.componentOptions.options=p.REGION,d.hotElements.countryId.componentOptions.options=p.COUNTRY,h=u.countryId,f=u.provinceId,O=u.cityId,I=u.districtId,n.next=16,y(h,f,O,I);case 16:return b=n.sent,d.hotElements.provinceId.componentOptions.options=b.PROVINCE,d.hotElements.cityId.componentOptions.options=b.CITY,d.hotElements.districtId.componentOptions.options=b.DISTRICT,C=Object.assign({},l.a.loginType),"1"===t.__CHAININFO__.ChainFlg&&"0"===t.__UNITINFO__.UnitFlg?(u.unitUid=o,C=0):"1"===t.__CHAININFO__.ChainFlg&&"1"===t.__UNITINFO__.UnitFlg?(u.unitUid=t.__UNITINFO__.UnitUid,C=1):"0"===t.__CHAININFO__.ChainFlg&&"1"===t.__UNITINFO__.UnitFlg&&(u.unitUid=t.__UNITINFO__.UnitUid,C=2),d.formData.chainCd=u.chainCd,d.formData.chainNm=u.chainNm,d.formData.unitFlg=u.unitFlg,d.formData.mntUnitNm=u.mntUnitNm,d.formData.unitUid=o,x=Object.assign({},l.a.hotFormData,u||{}),d.hotFormData=x,n.next=31,_(t.__GETCACHEDATA__,"M01328000A010LT00201",d,["hotFormData.version"]);case 31:return g=n.sent,N=m()(l.a.rightOperTop),0!==C&&delete N.back,n.next=36,v({type:"initComplete",routeParams:e.routeParams,formData:d.formData,hotElements:d.hotElements,hotFormData:x,loginType:C,dictionaryData:Object.assign({},p,b),cacheData:g,rightOperTop:N});case 36:case"end":return n.stop()}},n,this)}),queryDictyp:r.a.mark(function t(n,e){var i,o,a,s=e.select,c=e.put;e.call;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(function(t){return t.M01328000A010LT00201});case 2:return i=t.sent,"countryId"===n.fieldname?(n.hotFormData.provinceId=null,n.hotFormData.cityId=null,n.hotFormData.districtId=null):"provinceId"===n.fieldname?(n.hotFormData.cityId=null,n.hotFormData.districtId=null):"cityId"===n.fieldname&&(n.hotFormData.districtId=null),t.next=6,y(n.hotFormData.countryId,n.hotFormData.provinceId,n.hotFormData.cityId,n.hotFormData.districtId);case 6:return o=t.sent,a=m()(i.hotElements),a.provinceId.componentOptions.options=o.PROVINCE||[],a.cityId.componentOptions.options=o.CITY||[],a.districtId.componentOptions.options=o.DISTRICT||[],t.next=13,c({type:"updateFormData",hotElements:a,hotFormData:n.hotFormData});case 13:case"end":return t.stop()}},t,this)}),updateData:r.a.mark(function t(n,e){var i,o,a,s,c,p,u=e.select,d=e.put,l=e.call;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(function(t){return t});case 2:return i=t.sent,o=i.M01328000A010LT00201,a=m()(o.formData),s=m()(o.hotFormData),c=Object.assign({},a,s),p={submitData:c},Object.assign(p,{displayData:i}),Object.assign(p,{originData:{}}),t.next=12,l(D.updateUnitInfo,p);case 12:return t.next=14,d({type:"init",routeParams:o.routeParams});case 14:case"end":return t.stop()}},t,this)})},reducers:{initComplete:function(t,n){var e=n.routeParams,i=n.formData,o=n.hotElements,a=n.hotFormData,r=n.loginType,s=n.dictionaryData,c=n.cacheData,p=n.rightOperTop;return u()(c)>0?Object.assign({},c):Object.assign({},l.a,{routeParams:e,formData:i,hotElements:o,hotFormData:a,loginType:r,dictionaryData:s,rightOperTop:p})},updateFormData:function(t,n){if(c()(n,"hotFormData")){var e=Object.assign({},t.hotFormData,n.hotFormData),i=Object.assign({},t.hotElements);return c()(n,"hotElements")&&(i=Object.assign({},t.hotElements,n.hotElements)),Object.assign({},t,{hotFormData:e,hotElements:i})}return Object.assign({},t,{hotFormData:Object.assign({},t.hotFormData,o({},n.fieldName,n.fieldValue))})}}};n.default=C}.call(n,e(15))},2124:function(t,n,e){"use strict";n.a={32809002:["32809002","32809002G","32809002"],32809003:["32809003","32809003G","32809003"]}},2899:function(t,n,e){"use strict";var i=e(638),o=e(2124);n.a={routeParams:{},rightOperTop:{update:{text:i.a.update,className:"icon32 img81",permsCode:o.a[32809003],keyboard:"GF08"},back:{text:i.a.back,className:"icon32 img83",keyboard:"GF10"}},rightOperCenter:{},rightOperBottom:{},elements:{chainCd:{type:"input",width:4,interactionOptions:{findCondition:""},componentOptions:{disabled:!0,text:i.a.chainCd}},chainNm:{type:"input",width:4,interactionOptions:{findCondition:""},componentOptions:{disabled:!0,text:i.a.chainNm}},unitFlg:{type:"select",width:4,interactionOptions:{findCondition:""},componentOptions:{selection:!0,disabled:!0,text:i.a.unitFlg,options:[{text:i.a.unitFlg_0,key:"0",value:"0"},{text:i.a.unitFlg_1,key:"1",value:"1"}]}},mntUnitNm:{type:"input",width:4,interactionOptions:{findCondition:""},componentOptions:{text:i.a.mntUnitNm,disabled:!0}}},formData:{chainCd:"",chainNm:"",unitFlg:"",mntUnitNm:"",unitUid:""},hotElements:{unitCd:{type:"input",width:4,interactionOptions:{findCondition:""},componentOptions:{disabled:!0,text:i.a.chainCd}},unitNm:{type:"input",width:4,interactionOptions:{findCondition:""},componentOptions:{text:i.a.unitNm}},unitComp:{type:"input",width:4,interactionOptions:{findCondition:""},componentOptions:{text:i.a.unitComp}},brandId:{type:"select",width:4,interactionOptions:{findCondition:""},componentOptions:{selection:!0,text:i.a.brandId,enableNullValue:!0}},starsId:{type:"select",width:4,interactionOptions:{findCondition:""},componentOptions:{selection:!0,text:i.a.starsId,enableNullValue:!0}},bankNo:{type:"input",width:4,interactionOptions:{findCondition:""},componentOptions:{text:i.a.bankNo}},businessDt:{type:"datepicker",width:4,interactionOptions:{findCondition:""},componentOptions:{text:i.a.businessDt}},regionId:{type:"select",width:4,interactionOptions:{findCondition:""},componentOptions:{selection:!0,search:!0,text:i.a.regionId,enableNullValue:!0}},countryId:{type:"select",width:4,interactionOptions:{findCondition:""},componentOptions:{selection:!0,search:!0,text:i.a.countryId,enableNullValue:!0}},provinceId:{type:"select",width:4,interactionOptions:{findCondition:""},componentOptions:{selection:!0,search:!0,text:i.a.provinceId,enableNullValue:!0}},cityId:{type:"select",width:4,interactionOptions:{findCondition:""},componentOptions:{selection:!0,search:!0,text:i.a.cityId,enableNullValue:!0}},districtId:{type:"select",width:4,interactionOptions:{findCondition:""},componentOptions:{selection:!0,search:!0,text:i.a.districtId,enableNullValue:!0}},address:{type:"input",width:16,interactionOptions:{findCondition:""},componentOptions:{text:i.a.address}},phone:{type:"input",width:16,interactionOptions:{findCondition:""},componentOptions:{text:i.a.phone}},fax:{type:"input",width:4,interactionOptions:{findCondition:""},componentOptions:{text:i.a.fax}},email:{type:"input",width:4,interactionOptions:{findCondition:""},componentOptions:{text:i.a.email}},memo:{type:"textarea",width:16,interactionOptions:{findCondition:""},componentOptions:{text:i.a.memo}}},hotFormData:{unitCd:"",unitNm:"",unitComp:"",brandId:"",starsId:"",bankNo:"",businessDt:"",regionId:"",countryId:"",provinceId:"",cityId:"",districtId:"",address:"",phone:"",fax:"",email:"",memo:""},loginType:-1,dictionaryData:{}}},2900:function(t,n,e){"use strict";function i(t){return function(){var n=t.apply(this,arguments);return new Promise(function(t,e){function i(o,a){try{var r=n[o](a),s=r.value}catch(t){return void e(t)}if(!r.done)return Promise.resolve(s).then(function(t){i("next",t)},function(t){i("throw",t)});t(s)}return i("next")})}}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.d(n,"a",function(){return D});var a=e(38),r=e.n(a),s=e(22),c=e.n(s),p=e(10),u=e.n(p),d=e(43),m=e.n(d),l=e(163),h=e.n(l),f=e(81),O=e.n(f),I=e(257),y=e(489),b=new y.a,D=function t(){var n=this;o(this,t),this.init=function(){var t=i(r.a.mark(function t(e,i){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!O()(e)&&!h()(e)&&""!==m()(e)){t.next=4;break}return t.abrupt("return",n._init(i));case 4:return t.abrupt("return",n._queryUnitInfo(e,i));case 5:case"end":return t.stop()}},t,n)}));return function(n,e){return t.apply(this,arguments)}}(),this._init=function(){var t=i(r.a.mark(function t(e){var i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.queryDictionary(e);case 2:return i=t.sent,t.abrupt("return",{dictyp:i});case 4:case"end":return t.stop()}},t,n)}));return function(n){return t.apply(this,arguments)}}(),this._queryUnitInfo=function(){var t=i(r.a.mark(function t(e,i){var o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([b.queryDictionary(i),Object(I.a)("/bs/3140010/GrpCmmUnit/getUnitInfo","get",e)]);case 2:if(o=t.sent,u()(o)&&0!=c()(o)){t.next=7;break}throw"\u521d\u59cb\u5316\u5355\u4f4d\u4fe1\u606f\u5931\u8d25";case 7:if(o[1]&&o[1].resultData&&0!=c()(o[1].resultData)){t.next=11;break}throw"\u67e5\u8be2\u5355\u4f4d\u4fe1\u606f\u5931\u8d25";case 11:if(!(c()(i)>0)||o[0]&&0!=c()(o[0])){t.next=13;break}throw"\u67e5\u8be2\u5171\u540c\u53c2\u6570\u5931\u8d25";case 13:return t.abrupt("return",{unitInfo:o[1].resultData,dictyp:o[0]});case 14:case"end":return t.stop()}},t,n)}));return function(n,e){return t.apply(this,arguments)}}(),this.updateUnitInfo=function(){var t=i(r.a.mark(function t(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(I.a)("/bs/3140010/GrpCmmUnit/editUnitInfo","post",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,n)}));return function(n){return t.apply(this,arguments)}}()}}});