webpackJsonp([368],{1883:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function r(t){var e=t.baseFormData;return{statusFlg:e.status_flg,strategyGroup:e.strategyGroup,strategyName:e.strategyName,printerId:e.printerId,pageSize:t.pageSize,currentPage:t.currentPage}}var n=a(38),s=a.n(n),i=a(22),c=a.n(i),o=a(3205),u=a(491),p=a.n(u),l=a(3207),d=new l.a,g={namespace:"M01338030A011LT00101",state:o.a,subscriptions:{historyListenEvent:function(e){var a=e.history,r=e.dispatch;return a.listen(function(e){var a=p()("/main/:tabindex/0133/80/30/A/011/L/T/001/01/:paramobject/:encryptstr").exec(e.pathname);if(a){var n=t.__COMPARISON__&&t.__COMPARISON__(a);r({type:"init",routeParams:n})}})}},effects:{init:s.a.mark(function e(a,n){var i,c,o,u,p,l,g,f=n.select,m=n.put,y=n.call;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(function(t){return t.M01338030A011LT00101});case 2:return i=e.sent,e.next=5,y(t.__GETCACHEDATA__,"M01338030A011LT00101",i,[]);case 5:return c=e.sent,o={},c?(o=r(c),o.currentPage=1,o.pageSize=c.currentPage*c.pageSize):o=r(i),u={pageLength:1e3,pageStart:1},e.next=11,y(d.init,o,u);case 11:return p=e.sent,l=p.listData,g=p.dictTyps,e.next=16,m({type:"initComplete",data:{currentPage:l.currentPage,pageSize:l.pageSize,recordsTotal:l.recordsTotal,list:l.data,routeParams:a.routeParams,dictionaryData:g},cacheData:c});case 16:case"end":return e.stop()}},e,this)}),queryList:s.a.mark(function t(e,a){var n,i,c,o=a.select,u=a.put,p=a.call;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o(function(t){return t.M01338030A011LT00101});case 2:return n=t.sent,i=r(n),i.pageSize=100,i.currentPage=1,t.next=8,p(d.queryPosPrinterStrategyList,i);case 8:return c=t.sent,t.next=11,u({type:"queryListComplete",data:{pageStart:c.currentPage,currentPage:c.currentPage,pageLength:c.pageSize,pageSize:c.pageSize,recordsTotal:c.recordsTotal,list:c.data}});case 11:case"end":return t.stop()}},t,this)}),updatePosValidConfig:s.a.mark(function t(e,a){var r,n=e.params,i=a.select,c=a.put,o=a.call;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i(function(t){return t.M01338030A011LT00101});case 2:return r=t.sent,t.next=5,o(d.savePosValidPrinterStrategy,n);case 5:return t.next=7,c({type:"init",routeParams:r.routeParams});case 7:case"end":return t.stop()}},t,this)}),currentPageChange:s.a.mark(function t(e,a){var n,i,c,o,u=a.select,p=a.put,l=a.call;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(function(t){return t.M01338030A011LT00101});case 2:return n=t.sent,i=r(n),i=Object.assign({},i,e.paramdata),t.next=7,l(d.queryPosPrinterStrategyList,i);case 7:return c=t.sent,o=Object.assign([],n.list),n.currentPage>c.currentPage?o.unshift.apply(o,c.data):o.push.apply(o,c.data),t.next=12,p({type:"queryListComplete",data:{currentPage:c.currentPage,pageSize:c.pageSize,recordsTotal:c.recordsTotal,list:o}});case 12:case"end":return t.stop()}},t,this)}),confirmCbDispatch:s.a.mark(function t(e,a){var r=(a.select,a.put);a.call;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.confirm){t.next=3;break}return t.next=3,r({type:e.cbParams.cbDispatchTyp,params:e.cbParams.paramdata,successmessage:e.cbParams.successmessage});case 3:case"end":return t.stop()}},t,this)})},reducers:{updateBaseFormData:function(t,e){return Object.assign({},t,{baseFormData:Object.assign({},t.baseFormData,e.formData)})},updateRootStateProp:function(t,e){return Object.assign({},t,e.updateObj)},initComplete:function(t,e){return c()(e.cacheData)>0?Object.assign({},e.cacheData,{columnData:o.a.columnData,list:e.data.list,recordsTotal:e.data.recordsTotal,currentPage:e.data.currentPage,pageSize:e.data.pageSize}):Object.assign({},t,e.data)},queryListComplete:function(t,e){return Object.assign({},t,e.data)}}};e.default=g}.call(e,a(15))},3205:function(t,e,a){"use strict";var r=a(680),n=a(3206);e.a={baseElements:{strategyGroup:{type:"input",componentOptions:{text:r.a.strategyGroup,placeholder:r.a.strategyGroup}},strategyName:{type:"input",componentOptions:{text:r.a.strategyName,placeholder:r.a.strategyName}},printerId:{type:"select",width:3,componentOptions:{text:r.a.printerId,selection:!0}},status_all:{type:"checkbox",componentOptions:{label:r.a.status_all,radio:!0}},status_valid:{type:"checkbox",componentOptions:{label:r.a.status_valid,radio:!0}},status_invalid:{type:"checkbox",componentOptions:{label:r.a.status_invalid,radio:!0}}},baseFormData:{fastquery:"",status_flg:"1"},columnData:[{title:r.a.strategy_group,field:"strategy_group",width:"10%"},{title:r.a.strategy_name,field:"strategy_name",width:"10%"},{title:r.a.logic_printer_id,field:"logic_printer_id",width:"10%"},{title:r.a.strategy_priority,field:"strategy_priority",width:"10%"},{title:r.a.valid_flg,field:"valid_flg",width:"10%",template:function(t){var e=r.a.status_valid,a=r.a.status_invalid;return"1"===t.datasource.valid_flg?{toolTipText:e,content:e}:{toolTipText:a,content:a}}},{title:r.a.memo,field:"memo",width:"10%"}],rightOperTop:{},rightOperCenter:{new:{text:r.a.new,className:"icon20 img50",permsCode:n.a[33200066],keyboard:"GF16"},batchInvalid:{text:r.a.batchInvalid,className:"icon20 img48",permsCode:n.a[33200067],keyboard:"GF18"}},rightOperBottom:{},dataIdentityPropName:"strategy_id",setFor:"strategy",checkedData:[],currentPage:1,pageSize:30,recordsTotal:0,list:[],dictionaryData:{},routeParams:{},permsData:n.a}},3206:function(t,e,a){"use strict";e.a={33200066:["33200066","33200066G","33200066H"],33200067:["33200067","33200067G","33200067H"]}},3207:function(t,e,a){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){function r(n,s){try{var i=e[n](s),c=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(c).then(function(t){r("next",t)},function(t){r("throw",t)});t(c)}return r("next")})}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}a.d(e,"a",function(){return p});var s=a(38),i=a.n(s),c=a(257),o=a(260),u=a(489),p=(new u.a,function t(){var e=this;n(this,t),this.init=function(){var t=r(i.a.mark(function t(a,r){var n,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.queryPosPrinterStrategyList(a),e.queryPosLogicPrinterList(r)]);case 2:return n=t.sent,s={},s.PRINTER=Object(o.b)(n[1].data,["logic_printer_name"],"logic_printer_id"),t.abrupt("return",{listData:n[0],dictTyps:s});case 6:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}(),this.queryPosPrinterStrategyList=function(){var t=r(i.a.mark(function t(a){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c.a)("/bs/3310010/PosPrinter/queryPosPrinterStrategyList","get",a));case 1:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.savePosValidPrinterStrategy=function(){var t=r(i.a.mark(function t(a){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c.a)("/bs/3310010/PosPrinter/savePosValidPrinterStrategy","post",a));case 1:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryPosLogicPrinterList=function(){var t=r(i.a.mark(function t(a){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.a)("/bs/3310010/PosPrinter/queryPosLogicPrinterList","get",a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()})}});