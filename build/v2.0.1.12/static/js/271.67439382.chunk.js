webpackJsonp([271],{1891:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var a=r(38),o=r.n(a),p=r(26),i=r.n(p),s=r(30),c=r.n(s),u=r(16),C=r.n(u),g=r(89),d=r.n(g),l=r(1952),D=r.n(l),f=r(256),m=r.n(f),b=r(3220),y=r(491),k=r.n(y),O=r(260),R=r(3223),h=new R.a,v=null,N={namespace:"M01353020A010LT00201",state:Object.assign({},b.a),subscriptions:{historyListenEvent:function(e){var r=e.history,n=e.dispatch;return v=r.replace,r.listen(function(e){var r=k()("/main/:tabIndex/0135/30/20/A/010/L/T/002/01/:paramobject/:encryptstr").exec(e.pathname);if(r){var a=t.__COMPARISON__&&t.__COMPARISON__(r);n({type:"init",routeParams:a})}})}},effects:{init:o.a.mark(function e(r,n){var a,p,i,s,c,u,C,g,d,l,f,y,k,R,v,N=n.select,U=n.put,x=n.call;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.routeParams.id,e.next=3,N(function(t){return t.M01353020A010LT00201});case 3:return p=e.sent,i=m()(b.a.rightOperCenter),s=p.isGroup,c=m()(b.a.grpCrmCorp),u=m()(b.a.grpCrmCorpManageunit),C={parentCorpNo:c.parentCorpNo},"1"==t.__CHAININFO__.ChainFlg&&"0"==t.__UNITINFO__.UnitFlg?s=!0:(delete i.unitInformation,delete i.unitRemark,s=!1),g=["CONTACTTYP","COUNTRY","PROVINCE","CITY","POSTYP","CORPTYP","INDUSTRY","BLKLSTCXLRSN","BLKLSTTYP","CORPCLS","CORPSUBCLS","MARKET","CORPRANK","CORPGRP","PARA_SALER"],e.next=13,x(h.init,a,g);case 13:return d=e.sent,l=d.dictyp,f=d.packageConfigData,y=d.handleFlg,f?"1"!==f.grpCrmCorp.childFlg&&delete c.parentCorpNo:delete c.parentCorpNo,c.corptypId.componentOptions.options=l.CORPTYP,c.industryId.componentOptions.options=l.INDUSTRY,u.corpclsId.componentOptions.options=l.CORPCLS,u.corpsubclsId.componentOptions.options=l.CORPSUBCLS,u.corprankId.componentOptions.options=l.CORPRANK,u.corpgrpId.componentOptions.options=l.CORPGRP,u.marketId.componentOptions.options=l.MARKET,u.salerId.componentOptions.options=l.PARA_SALER,k=null,R=null,r.routeParams.id&&(R=f.grpCrmCorp.parentCorpNo,f.grpCrmCorp.parentCorpNo=f.grpCrmCorp.subDto.maps.parentCorpNo,k={grpCrmCorpData:f.grpCrmCorp,grpCrmCorpManageunitData:f.grpCrmCorpManageunit,packageAddress:Object(O.a)(f.grpCrmCorpAddresss,"id"),packageCertificate:Object(O.a)(f.grpCrmCorpContacts,"id"),packageContact:Object(O.a)(f.grpCrmCorpContactways,"id"),packageNotice:Object(O.a)(f.grpCrmCorpNotices,"id")}),v=null,a?v=D()(b.a.rightOperTop,"save"):(v=D()(b.a.rightOperTop,"update"),delete i.unitInformation,delete i.unitRemark,delete i.blackguestlist),e.next=33,U(Object.assign({type:"initComplete"},k,{routeParams:r.routeParams,isGroup:s,contentData:f,grpCrmCorp:c,grpCrmCorpManageunit:u,dictionaryData:l,rightOperCenter:i,parentCorpNo:C,rightOperTop:v,handleFlg:y,corpNo:R}));case 33:case"end":return e.stop()}},e,this)}),save:o.a.mark(function e(r,n){var a,p,i,s,u,g=n.select,l=n.put,D=n.call;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(function(t){return t});case 2:return a=e.sent,e.next=5,g(function(t){return t.M01353020A010LT00201});case 5:return p=e.sent,p.grpCrmCorpData.parentCorpNo=p.corpNo,i={grpCrmCorp:p.grpCrmCorpData,grpCrmCorpManageunit:p.grpCrmCorpManageunitData,grpCrmCorpAddresss:d()(C()(p.packageAddress,function(t){return c()(t.id,"T")&&(t.id="","4"===t.subDto.typCRUD?t.subDto.typCRUD="":"3"===t.subDto.typCRUD&&(t.subDto.typCRUD="1")),t})),grpCrmCorpContacts:d()(C()(p.packageCertificate,function(t){return c()(t.id,"T")&&(t.id="","4"===t.subDto.typCRUD?t.subDto.typCRUD="":"3"===t.subDto.typCRUD&&(t.subDto.typCRUD="1")),t})),grpCrmCorpContactways:d()(C()(p.packageContact,function(t){return c()(t.id,"T")&&(t.id="","4"===t.subDto.typCRUD?t.subDto.typCRUD="":"3"===t.subDto.typCRUD&&(t.subDto.typCRUD="1")),t})),grpCrmCorpNotices:d()(C()(p.packageNotice,function(t){return c()(t.id,"T")&&(t.id="","4"===t.subDto.typCRUD?t.subDto.typCRUD="":"3"===t.subDto.typCRUD&&(t.subDto.typCRUD="1")),t}))},i.grpCrmCorpContacts=i.grpCrmCorpContacts.filter(function(t){return"1"==t.subDto.typCRUD}),i.grpCrmCorpContactways=i.grpCrmCorpContactways.filter(function(t){return"1"==t.subDto.typCRUD}),i.grpCrmCorpNotices=i.grpCrmCorpNotices.filter(function(t){return"1"==t.subDto.typCRUD}),i.grpCrmCorpAddresss=i.grpCrmCorpAddresss.filter(function(t){return"1"==t.subDto.typCRUD}),e.next=14,D(h.CreatePackageConfig,{displayData:a,originData:{},submitData:i});case 14:return s=e.sent,u=t.__ENCRYPT__.Encrypt(escape(JSON.stringify({id:s.grpCrmCorp.id}))),e.next=18,l({type:"SystemRouterModel/push",url:"/0135/30/20/A/010/L/T/002/01/"+u.orgData+"/"+u.encryptData});case 18:case"end":return e.stop()}},e,this)}),update:o.a.mark(function t(e,r){var n,a,p,i,s=r.select,u=r.put,g=r.call;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(function(t){return t});case 2:return n=t.sent,t.next=5,s(function(t){return t.M01353020A010LT00201});case 5:return a=t.sent,a.grpCrmCorpData.parentCorpNo=a.corpNo,p={grpCrmCorp:a.grpCrmCorpData,grpCrmCorpManageunit:a.grpCrmCorpManageunitData,grpCrmCorpAddresss:d()(C()(a.packageAddress,function(t){return c()(t.id,"T")&&(t.id="","4"===t.subDto.typCRUD?t.subDto.typCRUD="":"3"===t.subDto.typCRUD&&(t.subDto.typCRUD="1")),t})),grpCrmCorpContacts:d()(C()(a.packageCertificate,function(t){return c()(t.id,"T")&&(t.id="","4"===t.subDto.typCRUD?t.subDto.typCRUD="":"3"===t.subDto.typCRUD&&(t.subDto.typCRUD="1")),t})),grpCrmCorpContactways:d()(C()(a.packageContact,function(t){return c()(t.id,"T")&&(t.id="","4"===t.subDto.typCRUD?t.subDto.typCRUD="":"3"===t.subDto.typCRUD&&(t.subDto.typCRUD="1")),t})),grpCrmCorpNotices:d()(C()(a.packageNotice,function(t){return c()(t.id,"T")&&(t.id="","4"===t.subDto.typCRUD?t.subDto.typCRUD="":"3"===t.subDto.typCRUD&&(t.subDto.typCRUD="1")),t}))},t.next=10,g(h.UpdatePackageConfig,{displayData:n,originData:{},submitData:p});case 10:return i=t.sent,t.next=13,u({type:"init",routeParams:{id:i.grpCrmCorp.id}});case 13:case"end":return t.stop()}},t,this)})},reducers:{initComplete:function(t,e){return Object.assign({},t,e)},updateBasicData:function(t,e){var r=null;"childFlg"===e.fieldName?"1"===e.value?r=Object.assign({},t.grpCrmCorp,t.parentCorpNo):(delete t.grpCrmCorp.parentCorpNo,r=Object.assign({},t.grpCrmCorp)):r=Object.assign({},t.grpCrmCorp);var a=Object.assign({},t.grpCrmCorpData,n({},e.fieldName,e.value));return Object.assign({},t,{grpCrmCorp:r,grpCrmCorpData:a})},updateGuestHistoryData:function(t,e){var r=Object.assign({},t.grpCrmCorpManageunitData,n({},e.fieldName,e.value));return Object.assign({},t,{grpCrmCorpManageunitData:r})},updatecertificate:function(t,e){var r=e.formData;return Object.assign({},t,{packageCertificate:Object.assign({},t.packageCertificate,n({},r.id,r))})},packageContact:function(t,e){var r=e.formData;return Object.assign({},t,{packageContact:Object.assign({},t.packageContact,n({},r.id,r))})},packageAddress:function(t,e){var r=e.formData;return Object.assign({},t,{packageAddress:Object.assign({},t.packageAddress,n({},r.id,r))})},packageNotice:function(t,e){var r=e.formData;return Object.assign({},t,{packageNotice:Object.assign({},t.packageNotice,n({},r.id,r))})},parentValue:function(t,e){var r=Object.assign({},t.grpCrmCorpData,{parentCorpNo:e.formData.corp_nm});return Object.assign({},t,{grpCrmCorpData:r,corpNo:e.formData.corp_no})},deletePackage:function(t,e){var r=e.id,n=e.fileName,a=Object.assign({},i()(t,[n,r]));if(a.subDto=Object.assign({},a.subDto,{typCRUD:"4"}),"packageCertificate"===n){var o=m()(t.packageCertificate);return C()(o,function(t){t.id===parseInt(r)&&(t.subDto.typCRUD=a.subDto.typCRUD),t.id===r&&(t.subDto.typCRUD=a.subDto.typCRUD)}),Object.assign({},t,{packageCertificate:o})}if("packageContact"===n){var p=m()(t.packageContact);return C()(p,function(t){t.id===parseInt(r)&&(t.subDto=a.subDto),t.id===r&&(t.subDto.typCRUD=a.subDto.typCRUD)}),Object.assign({},t,{packageContact:p})}if("packageAddress"===n){var s=m()(t.packageAddress);return C()(s,function(t){t.id===parseInt(r)&&(t.subDto=a.subDto),t.id===r&&(t.subDto.typCRUD=a.subDto.typCRUD)}),Object.assign({},t,{packageAddress:s})}if("packageNotice"===n){var c=m()(t.packageNotice);return C()(c,function(t){t.id===parseInt(r)&&(t.subDto=a.subDto),t.id===r&&(t.subDto.typCRUD=a.subDto.typCRUD)}),Object.assign({},t,{packageNotice:c})}},recoverPackage:function(t,e){var r=e.id,n=e.fileName,a=Object.assign({},i()(t,[n,r]));if(a.subDto=Object.assign({},a.subDto,{typCRUD:"3"}),"packageCertificate"===n){var o=m()(t.packageCertificate);return C()(o,function(t){t.id===parseInt(r)&&(t.subDto.typCRUD=a.subDto.typCRUD),t.id===r&&(t.subDto.typCRUD=a.subDto.typCRUD)}),Object.assign({},t,{packageCertificate:o})}if("packageContact"===n){var p=m()(t.packageContact);return C()(p,function(t){t.id===parseInt(r)&&(t.subDto=a.subDto),t.id===r&&(t.subDto.typCRUD=a.subDto.typCRUD)}),Object.assign({},t,{packageContact:p})}if("packageAddress"===n){var s=m()(t.packageAddress);return C()(s,function(t){t.id===parseInt(r)&&(t.subDto=a.subDto),t.id===r&&(t.subDto.typCRUD=a.subDto.typCRUD)}),Object.assign({},t,{packageAddress:s})}if("packageNotice"===n){var c=m()(t.packageNotice);return C()(c,function(t){t.id===parseInt(r)&&(t.subDto=a.subDto),t.id===r&&(t.subDto.typCRUD=a.subDto.typCRUD)}),Object.assign({},t,{packageNotice:c})}}}};e.default=N}.call(e,r(15))},1913:function(t,e,r){function n(t,e){return e=a(e,t),null==(t=p(t,e))||delete t[i(o(e))]}var a=r(84),o=r(110),p=r(492),i=r(62);t.exports=n},1952:function(t,e,r){var n=r(47),a=r(171),o=r(1913),p=r(84),i=r(71),s=r(1954),c=r(170),u=r(262),C=c(function(t,e){var r={};if(null==t)return r;var c=!1;e=n(e,function(e){return e=p(e,t),c||(c=e.length>1),e}),i(t,u(t),r),c&&(r=a(r,7,s));for(var C=e.length;C--;)o(r,e[C]);return r});t.exports=C},1954:function(t,e,r){function n(t){return a(t)?void 0:t}var a=r(83);t.exports=n},3220:function(t,e,r){"use strict";var n=r(682),a=r(3221),o=r(3222);e.a={routeParams:{},rightOperTop:{save:{text:n.a.save,className:"icon32 img81",permsCode:a.a[35200101],keyboard:"GF08"},update:{text:n.a.update,className:"icon32 img81",permsCode:a.a[35200111],keyboard:"GF08"},back:{text:n.a.back,className:"icon32 img83",keyboard:"GF10"}},rightOperCenter:{blackguestlist:{text:n.a.blackguest,className:"icon20 img132",permsCode:a.a[35200143],authCode:o.a["0135-1010-0010-L-A-01"],keyboard:"0135-2010-A-010-L-T-002-L04"},unitInformation:{text:n.a.unitInformation,className:"icon20 img153",permsCode:a.a[35200023],keyboard:"0135-2010-A-010-L-T-002-L05"},unitRemark:{text:n.a.unitRemark,className:"icon20 img144",permsCode:a.a[35200243],keyboard:"0135-2010-A-010-L-T-002-L06"}},rightOperBottom:{},element:{statusFlg:{type:"checkbox",componentOptions:{label:n.a.statusFlg,toggle:!0}},sleepFlg:{type:"checkbox",componentOptions:{label:n.a.sleepFlg,toggle:!0}}},grpCrmCorp:{corpNo:{type:"input",width:4,interactionOptions:{disabled:!0,findCondition:""},componentOptions:{text:n.a.corpNo,placeholder:n.a.corpNo_placeholder}},corpNm:{type:"input",width:4,interactionOptions:{isMust:!0,findCondition:""},componentOptions:{text:n.a.corpNm,placeholder:n.a.corpNm_placeholder}},corptypId:{type:"select",width:4,componentOptions:{selection:!0,text:n.a.corptypId}},corpNmRef:{type:"input",width:4,interactionOptions:{findCondition:""},componentOptions:{text:n.a.corpNmRef,placeholder:n.a.corpNmRef_placeholder}},industryId:{type:"select",width:4,componentOptions:{selection:!0,text:n.a.industryId}},childFlg:{type:"select",width:4,componentOptions:{selection:!0,text:n.a.childFlg,options:[{key:"1",text:n.a.childFlgoptions1,value:"0"},{key:"2",text:n.a.childFlgoptions2,value:"1"},{key:"3",text:n.a.childFlgoptions3,value:"2"}]}},parentCorpNo:{type:"input",width:4,interactionOptions:{isMust:!0,findCondition:""},componentOptions:{text:n.a.parentCorpNo,signs:[{className:"icon20 img133"}]}}},grpCrmCorpManageunit:{contractFlg:{type:"select",width:4,componentOptions:{selection:!0,text:n.a.contractFlg,options:[{key:"1",text:n.a.contractFlgoptions1,value:"1"},{key:"2",text:n.a.contractFlgoptions2,value:"0"}]}},corpclsId:{type:"select",width:4,interactionOptions:{isMust:!0,findCondition:""},componentOptions:{selection:!0,text:n.a.corpclsId}},corpsubclsId:{type:"select",width:4,componentOptions:{selection:!0,text:n.a.corpsubclsId}},corprankId:{type:"select",width:4,componentOptions:{selection:!0,text:n.a.corprankId}},corpgrpId:{type:"select",width:4,interactionOptions:{isMust:!0,findCondition:""},componentOptions:{selection:!0,text:n.a.corpgrpId}},marketId:{type:"select",width:4,componentOptions:{selection:!0,text:n.a.marketId}},salerId:{type:"select",width:4,componentOptions:{selection:!0,text:n.a.salerId}}},grpCrmCorpData:{sleepFlg:"0",statusFlg:"0"},grpCrmCorpManageunitData:{},dictionaryData:{},packageAddress:{},packageCertificate:{},packageContact:{},packageNotice:{},contentData:{},isGroup:!0,handleFlg:"",parentCorpNo:{},corpNo:""}},3221:function(t,e,r){"use strict";e.a={35200023:["35200023","35200023G","35200023H"],35200243:["35200101","35200243G","35200243H"],35200004:["35200004","35200004G","35200004H"],35200101:["35200101","35200101G","35200101H"],35200111:["35200111","35200111G","35200111H"],35200121:["35200121","35200121G","35200121H"],35200131:["35200131","35200131G","35200131H"],35200151:["35200151","35200151G","35200151H"],35200152:["35200152","35200152G","35200152H"],35200143:["35200143","35200143G","35200143H"],35200181:["35200181","35200181G","35200181H"]}},3222:function(t,e,r){"use strict";e.a={"0135-1010-0010-L-A-01":["0135-1010-0010-L-A-01"]}},3223:function(t,e,r){"use strict";function n(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){function n(a,o){try{var p=e[a](o),i=p.value}catch(t){return void r(t)}if(!p.done)return Promise.resolve(i).then(function(t){n("next",t)},function(t){n("throw",t)});t(i)}return n("next")})}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.d(e,"a",function(){return k});var o=r(38),p=r.n(o),i=r(22),s=r.n(i),c=r(10),u=r.n(c),C=r(43),g=r.n(C),d=r(163),l=r.n(d),D=r(81),f=r.n(D),m=r(257),b=r(489),y=new b.a,k=function t(){var e=this;a(this,t),this.init=function(){var t=n(p.a.mark(function t(r,n){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!f()(r)&&!l()(r)&&""!==g()(r)){t.next=4;break}return t.abrupt("return",e._init(n));case 4:return t.abrupt("return",e._queryPackageConfigInfo(r,n));case 5:case"end":return t.stop()}},t,e)}));return function(e,r){return t.apply(this,arguments)}}(),this.CreatePackageConfig=function(){var t=n(p.a.mark(function t(r){var n,a;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.a)("/bs/3520010/GrpCrmCorp/save","post",r);case 2:return n=t.sent,a=n.resultData,t.abrupt("return",a);case 5:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.UpdatePackageConfig=function(){var t=n(p.a.mark(function t(r){var n,a;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.a)("/bs/3520010/GrpCrmCorp/update","post",r);case 2:return n=t.sent,a=n.resultData,t.abrupt("return",a);case 5:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this._init=function(){var t=n(p.a.mark(function t(r){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.queryDictionary(r);case 2:return n=t.sent,t.abrupt("return",{dictyp:n});case 4:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this._queryPackageConfigInfo=function(){var t=n(p.a.mark(function t(r,n){var a;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([y.queryDictionary(n),Object(m.a)("/bs/3520010/GrpCrmCorp/getEntityById","get",{id:r})]);case 2:if(a=t.sent,u()(a)&&0!=s()(a)){t.next=7;break}throw"\u521d\u59cb\u5316\u623f\u578b\u914d\u7f6e\u5931\u8d25";case 7:if(a[1]&&a[1].resultData&&0!=s()(a[1].resultData)){t.next=11;break}throw"\u67e5\u8be2\u623f\u578b\u914d\u7f6e\u5931\u8d25";case 11:if(!(s()(n)>0)||a[0]&&0!=s()(a[0])){t.next=13;break}throw"\u67e5\u8be2\u5171\u540c\u53c2\u6570\u5931\u8d25";case 13:return t.abrupt("return",{packageConfigData:a[1].resultData,dictyp:a[0],handleFlg:a[1].handleFlg});case 14:case"end":return t.stop()}},t,e)}));return function(e,r){return t.apply(this,arguments)}}(),this.queryUnitList=function(){var t=n(p.a.mark(function t(r){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.a)("/bs/3140010/GrpCmmUnit/queryUnitList","get",{});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()}}});