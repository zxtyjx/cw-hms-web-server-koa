webpackJsonp([295],{1679:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e){var t=e.length-1;for(t;t>=0;t--){var r=e[t];if(r.children&&0===D()(r.children))e.splice(t,1);else if(r.children){var a=n(r.children);a.isDelSelf?e.splice(t,1):r.children=a.data}}return e=m()(e,function(e){var t=+e.key;return isNaN(t)?e.key:t}),{data:e,isDelSelf:0===e.length}}function i(e,t){if(t)for(var r=e.length-1;r>=0;r--)!function(r){var a=e[r];if(a.children)i(a.children,t),0===a.children.length&&e.splice(r,1);else if(0!==t.length){var n=y()(t,function(e){return e==a.key});-1===n&&e.splice(r,1)}else e.splice(0)}(r)}function s(e,t){t&&e.forEach(function(r){r.children?s(r.children,t):t.forEach(function(t){g()(e,function(e){if(t===""+e.key)return!0})})})}function c(e,t){if(0===e.length)for(var r=0;r<t.length;r++)e.push(t[r]);else for(var a=0;a<t.length;a++){for(var n=0;n<e.length;n++)if(e[n].key===t[a].key){if(e[n].children&&t[a].children)c(e[n].children,t[a].children);else if(!e[n].children)if(e.splice(a,1),e[0].children)e.push(t[a]);else for(var i=0;i<t.length;i++)e.push(t[i]);break}if(n===e.length){if(!e[0].children){for(var i=0;i<t.length;i++)e.push(t[i]);break}e.push(t[a])}}}function o(e){return e&&0!=e.length?[{children:e,key:0,name:w.a.all}]:[]}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=t;return d()(e,function(e,t){e.children&&(r.push(""+e.key),u(e.children,r))}),r}var p=r(36),l=r.n(p),f=r(18),d=r.n(f),h=r(1922),g=r.n(h),v=r(82),y=r.n(v),R=r(501),m=r.n(R),b=r(22),D=r.n(b),k=r(256),T=r.n(k),x=r(2845),O=r(489),K=r.n(O),L=r(2846),w=r(2194),j=new L.a,_={namespace:"M01328005A050LT00501",state:x.a,subscriptions:{historyListenEvent:function(t){var r=t.history,a=t.dispatch;return r.listen(function(t){var r=K()("/main/:tabindex/0132/80/05/A/050/L/T/005/01/:paramobject/:encryptstr").exec(t.pathname);if(r){var n=e.__COMPARISON__&&e.__COMPARISON__(r);a({type:"init",routeParams:n})}})}},effects:{init:l.a.mark(function t(r,a){var i,s,c,p,f,d,h,g,v,y,R=a.select,m=a.put,b=a.call;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e.__GETCACHEDATA__,"M01328005A050LT00501");case 2:if(!(i=t.sent)){t.next=7;break}return t.next=6,m({type:"initComplete",data:Object.assign({},i)});case 6:return t.abrupt("return");case 7:return s=r.routeParams,t.next=10,R(function(e){return e.M01328005A050LT00501});case 10:return c=t.sent,t.next=13,b(j.init,s);case 13:return p=t.sent,f=n(p.resultData.grpRoleSubDto.remainReportTree),d=n(p.resultData.grpRoleSubDto.reportTree),h=o(f.data),g=o(d.data),v=u(g),y=u(h),t.next=22,m({type:"initComplete",data:Object.assign({},x.a,{routeParams:r.routeParams,resultData:p.resultData,treeDataLeft:f.data,treeDataRight:d.data,reportTree:g,remainReportTree:h,remainReportTreeKeys:y,reportTreeKeys:v})});case 22:case"end":return t.stop()}},t,this)}),updateRoleReport:l.a.mark(function e(t,r){var a,i,s,c,p,f,d,h,g,v,y,R,m=r.select,b=r.call,D=r.put;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(function(e){return e});case 2:return a=e.sent,e.next=5,m(function(e){return e.M01328005A050LT00501});case 5:return i=e.sent,s=t.paramsData,c=i.resultData,p={submitData:c,originData:{},displayData:a},e.next=11,b(j.updateRoleReport,p);case 11:return e.next=13,b(j.init,s);case 13:return f=e.sent,d=n(f.resultData.grpRoleSubDto.remainReportTree),h=n(f.resultData.grpRoleSubDto.reportTree),g=o(d.data),v=o(h.data),y=u(v),R=u(g),e.next=22,D({type:"initComplete",data:Object.assign({},x.a,{routeParams:s,resultData:f.resultData,treeDataLeft:d.data,treeDataRight:h.data,reportTree:v,remainReportTree:g,remainReportTreeKeys:R,reportTreeKeys:y})});case 22:case"end":return e.stop()}},e,this)})},reducers:{initComplete:function(e,t){return Object.assign({},t.data)},updataCheckedKeys:function(e,t){return"right"===t.flg?Object.assign({},e,{checkedKeysRight:t.checkedKeys}):Object.assign({},e,{checkedKeysLeft:t.checkedKeys})},updataAddNode:function(e,t){var r=T()(e.treeDataLeft),a=T()(e.treeDataLeft),u=T()(e.treeDataRight);i(a,e.checkedKeysLeft),n(a),s(r,e.checkedKeysLeft),r=n(r),c(u,a),u=n(u);var p=o(r.data),l=o(u.data);return Object.assign({},e,{checkedKeysLeft:[],checkedKeysRight:[],treeDataRight:u.data,treeDataLeft:r.data,remainReportTree:p,reportTree:l,resultData:Object.assign({},e.resultData,{grpRoleSubDto:Object.assign({},e.resultData.grpRoleSubDto,{remainReportTree:r.data?r.data:[],reportTree:u.data?u.data:[],updateType:"1"})})})},updataRemoveNode:function(e,t){var r=T()(e.treeDataLeft),a=T()(e.treeDataRight),u=T()(e.treeDataRight);i(u,e.checkedKeysRight),n(u),s(a,e.checkedKeysRight),a=n(a),c(r,u),r=n(r);var p=o(r.data),l=o(a.data);return Object.assign({},e,{checkedKeysLeft:[],checkedKeysRight:[],treeDataRight:a.data,treeDataLeft:r.data,remainReportTree:p,reportTree:l,resultData:Object.assign({},e.resultData,{grpRoleSubDto:Object.assign({},e.resultData.grpRoleSubDto,{remainReportTree:r.data?r.data:[],reportTree:a.data?a.data:[],updateType:"1"})})})},updataExpandedKeys:function(e,t){var r,n=t.expandedKeys;return Object.assign({},e,(r={},a(r,t.name,!1),a(r,t.flg,n),r))}}};t.default=_}.call(t,r(16))},1911:function(e,t,r){function a(e,t){return t=n(t,e),null==(e=s(e,t))||delete e[c(i(t))]}var n=r(84),i=r(109),s=r(490),c=r(61);e.exports=a},1913:function(e,t,r){function a(e,t){for(var r=e?t.length:0,a=r-1;r--;){var s=t[r];if(r==a||s!==o){var o=s;i(s)?c.call(e,s,1):n(e,s)}}return e}var n=r(1911),i=r(85),s=Array.prototype,c=s.splice;e.exports=a},1922:function(e,t,r){function a(e,t){var r=[];if(!e||!e.length)return r;var a=-1,s=[],c=e.length;for(t=n(t,3);++a<c;){var o=e[a];t(o,a,e)&&(r.push(o),s.push(a))}return i(e,s),r}var n=r(31),i=r(1913);e.exports=a},2194:function(e,t,r){"use strict";t.a={model_title:"\u6743\u9650",roleNm:"\u89d2\u8272\u540d\u79f0",choose:"\u5df2\u9009",notChoose:"\u672a\u9009",toRight:"\u53f3\u79fb",toLeft:"\u5de6\u79fb",warning:"\u672a\u9009\u4e2d\u6570\u636e",successmessage:"\u4fdd\u5b58\u6210\u529f",save:"\u4fdd\u5b58",back:"\u8fd4\u56de",all:"\u5168\u90e8"}},2845:function(e,t,r){"use strict";var a=r(2194);t.a={rightOperTop:{save:{text:a.a.save,className:"icon32 img81",keyboard:"GF08"},back:{text:a.a.back,className:"icon32 img83",keyboard:"GF10"}},rightOperCenter:{},rightOperBottom:{},resultData:{},reportTree:[],remainReportTree:[],checkedKeysLeft:[],checkedKeysRight:[],remainReportTreeKeys:[],reportTreeKeys:[],reportTreeExpandParent:!0,remainReportTreeExpandParent:!0,routeParams:{}}},2846:function(e,t,r){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function a(n,i){try{var s=t[n](i),c=s.value}catch(e){return void r(e)}if(!s.done)return Promise.resolve(c).then(function(e){a("next",e)},function(e){a("throw",e)});e(c)}return a("next")})}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",function(){return u});var i=r(36),s=r.n(i),c=r(257),o=(r(260),r(487)),u=(new o.a,function e(){var t=this;n(this,e),this.init=function(){var e=a(s.a.mark(function e(r){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.queryRoleReport(r),e.abrupt("return",a);case 2:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}(),this.queryRoleReport=function(){var e=a(s.a.mark(function e(r){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)("/bs/3140010/GrpRole/getGrpRoleReport","get",r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}(),this.updateRoleReport=function(){var e=a(s.a.mark(function e(r){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)("/bs/3140010/GrpRole/updateRoleReport","post",r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()})}});