webpackJsonp([293],{1606:function(t,e,a){"use strict";function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}Object.defineProperty(e,"__esModule",{value:!0});var r=a(36),i=a.n(r),o=a(21),s=a.n(o),u=a(167),c=a.n(u),p=a(15),f=a.n(p),l=a(22),d=a.n(l),m=a(264),y=a.n(m),g=a(2100),v=a.n(g),D=a(82),b=a.n(D),h=a(256),x=a.n(h),O=a(2747),_=a(70),w=(a.n(_),a(2748)),k=new w.a,W={namespace:"M01328000A011LP00201",state:Object.assign({},O.a),subscriptions:{},effects:{getPlugsList:i.a.mark(function t(e,a){var n,r,o,s,u,p,l,m,g,D=a.put,h=a.call;a.select;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=x()(O.a),r=n.elements,o=n.formData,t.next=5,h(k.getPlugsList,e.iftypeIds);case 5:return s=t.sent,t.next=8,h(k.getPlugType);case 8:return u=t.sent,t.next=11,h(k.getRemoteWorkStation);case 11:if(p=t.sent,r.aimWsNo.componentOptions.options=p,"update"!==e.modalParams.model){t.next=23;break}return l=b()(s,function(t){return e.plugSelected===t.ifsvcver_id}),-1!=l&&(m=v()(s,l),s=y()(m,s)),o.ifdeployTyp=e.modalParams.datasource.ifdeployTyp,o.aimWsNo=e.modalParams.datasource.aimWsNo,o.ifParam=e.modalParams.datasource.ifParam,t.next=21,D({type:"updateCheckedData",checkedData:[e.plugSelected]});case 21:t.next=24;break;case 23:o={};case 24:return d()(e.exclude)>0&&(g=f()(e.exclude,function(t){return t.iftypeId}),s=c()(s,function(t){var a=b()(g,function(e){return t.iftype_id==e});return"update"===e.modalParams.model?t.ifsvcver_id==e.plugSelected||-1==a:-1==a})),t.next=27,D({type:"getPlugsListComplete",reData:s,rePlugTypData:u,elements:r,formData:o,reRemoteWorkStation:p});case 27:if(!e.updateFormData){t.next=30;break}return t.next=30,D({type:"updateFormData",fieldName:"plugTypes",fieldValue:e.fieldValue});case 30:case"end":return t.stop()}},t,this)})},reducers:{initComplete:function(t,e){return d()(e.cacheData)>0?Object.assign({},e.cacheData,{columnData:e.data.columnData}):Object.assign({},t,e.data)},getPlugsListComplete:function(t,e){return Object.assign({},t,{plugsListData:e.reData,plugTypeData:e.rePlugTypData,remoteWorkStation:e.reRemoteWorkStation,elements:e.elements,formData:e.formData})},updateAimWsNo:function(t,e){var a=Object.assign({},t.formData,e.formData);t.formData.ifdeployTyp!==a.ifdeployTyp&&(a.aimWsNo="");var n=x()(t.elements),r=x()(t.remoteWorkStation);return"1"===a.ifdeployTyp?(r.unshift({key:"",text:"",value:""}),n.aimWsNo.componentOptions.options=r,n.aimWsNo.interactionOptions.isMust=!1):(n.aimWsNo.interactionOptions.isMust=!0,n.aimWsNo.componentOptions.options=r),Object.assign({},t,{formData:a,elements:n})},updateFormData:function(t,e){if(s()(e,"formData")){var a=Object.assign({},t.formData,e.formData);return Object.assign({},t,{formData:a})}return Object.assign({},t,{formData:Object.assign({},t.formData,n({},e.fieldName,e.fieldValue))})},updateCheckedData:function(t,e){return Object.assign({},t,{checkedData:e.checkedData})}}};e.default=W},1911:function(t,e,a){function n(t,e){return e=r(e,t),null==(t=o(t,e))||delete t[s(i(e))]}var r=a(84),i=a(109),o=a(490),s=a(61);t.exports=n},1913:function(t,e,a){function n(t,e){for(var a=t?e.length:0,n=a-1;a--;){var o=e[a];if(a==n||o!==u){var u=o;i(o)?s.call(t,o,1):r(t,o)}}return t}var r=a(1911),i=a(85),o=Array.prototype,s=o.splice;t.exports=n},2100:function(t,e,a){var n=a(47),r=a(2101),i=a(1913),o=a(511),s=a(170),u=a(85),c=s(function(t,e){var a=null==t?0:t.length,s=r(t,e);return i(t,n(e,function(t){return u(t,a)?+t:t}).sort(o)),s});t.exports=c},2101:function(t,e,a){function n(t,e){for(var a=-1,n=e.length,i=Array(n),o=null==t;++a<n;)i[a]=o?void 0:r(t,e[a]);return i}var r=a(26);t.exports=n},2747:function(t,e,a){"use strict";var n=a(606);e.a={elements:{ifdeployTyp:{type:"select",width:8,groupIndex:1,interactionOptions:{isMust:!0,findCondition:""},componentOptions:{selection:!0,text:n.a.ifdeployTyp,options:[{text:n.a.concentrate,value:"1"},{text:n.a.distributed,value:"2"}]}},aimWsNo:{type:"select",width:8,groupIndex:1,interactionOptions:{findCondition:"",isMust:!1},componentOptions:{selection:!0,text:n.a.aimWsNo,options:[]}},ifParam:{type:"textarea",groupIndex:2,width:16,interactionOptions:{findCondition:""},componentOptions:{text:n.a.ifParam}}},columnData:[{title:n.a.iftype_drpt,field:"iftype_drpt",width:"15%"},{title:n.a.ifsubtype_drpt,field:"ifsubtype_drpt",width:"15%"},{title:n.a.ifmanufacturer_drpt,field:"ifmanufacturer_drpt",width:"25%"},{title:n.a.ifbrand_drpt,field:"ifbrand_drpt",width:"25%"},{title:n.a.interface_ver,field:"interface_ver",width:"20%"}],formData:{},plugTypeData:[],plugsListData:[],checkedData:[],checkedRow:{}}},2748:function(t,e,a){"use strict";(function(t){function n(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){function n(r,i){try{var o=e[r](i),s=o.value}catch(t){return void a(t)}if(!o.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}return n("next")})}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}a.d(e,"a",function(){return m});var i=a(36),o=a.n(i),s=a(264),u=a.n(s),c=a(18),p=a.n(c),f=a(257),l=a(487),d=a(260),m=(new l.a,function e(){var a=this;r(this,e),this.getPlugsList=function(){var e=n(o.a.mark(function e(n){var r,i,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)("/bs/3140010/GrpCmmWorkstation/queryListByInfws","get",{wsNo:t.__WSNO__,iftypeIds:n});case 2:return r=e.sent,i=r.resultData,s=[],p()(i,function(t,e){s=u()(s,t)}),e.abrupt("return",s);case 7:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}(),this.getPlugType=n(o.a.mark(function e(){var n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)("/bs/3140010/GrpCmmWorkstation/queryIftypeIds","get",{wsNo:t.__WSNO__});case 2:return n=e.sent,r=n.resultData,e.abrupt("return",Object(d.b)(r,["param_cd","param_drpt"],"param_id"));case 5:case"end":return e.stop()}},e,a)})),this.getRemoteWorkStation=n(o.a.mark(function e(){var n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)("/bs/3140010/GrpCmmWorkstation/queryWsNo","get",{wsNo:t.__WSNO__});case 2:return n=e.sent,r=n.resultData,e.abrupt("return",Object(d.b)(r,"machine_nm","ws_no"));case 5:case"end":return e.stop()}},e,a)}))})}).call(e,a(16))}});