webpackJsonp([369],{1875:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function a(t){var e=t.baseFormData;t.moreFormData;return{statusFlg:e.status_flg,filter:e.fastquery,pageSize:t.pageSize,currentPage:t.currentPage}}var n=r(36),s=r.n(n),i=r(22),c=r.n(i),u=r(3190),o=r(489),p=r.n(o),l=r(3192),f=new l.a,d={namespace:"M01338030A010LT00101",state:u.a,subscriptions:{historyListenEvent:function(e){var r=e.history,a=e.dispatch;return r.listen(function(e){var r=p()("/main/:tabindex/0133/80/30/A/010/L/T/001/01/:paramobject/:encryptstr").exec(e.pathname);if(r){var n=t.__COMPARISON__&&t.__COMPARISON__(r);a({type:"init",routeParams:n})}})}},effects:{init:s.a.mark(function e(r,n){var i,c,u,o,p,l,d=n.select,m=n.put,P=n.call;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(function(t){return t.M01338030A010LT00101});case 2:return i=e.sent,e.next=5,P(t.__GETCACHEDATA__,"M01338030A010LT00101",i,[]);case 5:return c=e.sent,u={},c?(u=a(c),u.currentPage=1,u.pageSize=c.currentPage*c.pageSize):u=a(i),e.next=10,P(f.init,u);case 10:return o=e.sent,p=o.listData,l=o.dictTyps,e.next=15,m({type:"initComplete",data:{currentPage:p.currentPage,pageSize:p.pageSize,recordsTotal:p.recordsTotal,list:p.data,routeParams:r.routeParams,dictionaryData:l},cacheData:c});case 15:case"end":return e.stop()}},e,this)}),queryList:s.a.mark(function e(r,n){var i,c,u,o,p=n.select,l=n.put,d=n.call;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(function(t){return t.M01338030A010LT00101});case 2:return i=e.sent,e.next=5,d(t.__GETCACHEDATA__,"M01338030A010LT00101",i,[]);case 5:return c=e.sent,u=void 0,c?u=a(c):(u=a(i),u.currentPage=1,u.pageSize=100),e.next=10,d(f.queryPosPrinterList,u);case 10:return o=e.sent,e.next=13,l({type:"queryListComplete",data:{pageStart:o.currentPage,currentPage:o.currentPage,pageLength:o.pageSize,pageSize:o.pageSize,recordsTotal:o.recordsTotal,list:o.data}});case 13:case"end":return e.stop()}},e,this)}),updatePosValidConfig:s.a.mark(function t(e,r){var a,n=e.params,i=r.select,c=r.put,u=r.call;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i(function(t){return t.M01338030A010LT00101});case 2:return a=t.sent,t.next=5,u(f.delIdsPosPrinter,n);case 5:return t.next=7,c({type:"updateRootStateProp",checkedData:[]});case 7:return t.next=9,c({type:"init",routeParams:a.routeParams});case 9:case"end":return t.stop()}},t,this)}),currentPageChange:s.a.mark(function t(e,r){var n,i,c,u,o=r.select,p=r.put,l=r.call;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o(function(t){return t.M01338030A010LT00101});case 2:return n=t.sent,i=a(n),i=Object.assign({},i,e.paramdata),t.next=7,l(f.queryPosPrinterList,i);case 7:return c=t.sent,u=Object.assign([],n.list),n.currentPage>c.currentPage?u.unshift.apply(u,c.data):u.push.apply(u,c.data),t.next=12,p({type:"queryListComplete",data:{currentPage:c.currentPage,pageSize:c.pageSize,recordsTotal:c.recordsTotal,list:u}});case 12:case"end":return t.stop()}},t,this)}),confirmCbDispatch:s.a.mark(function t(e,r){var a=(r.select,r.put);r.call;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.confirm){t.next=3;break}return t.next=3,a({type:e.cbParams.cbDispatchTyp,params:e.cbParams.paramdata,successmessage:e.cbParams.successmessage});case 3:case"end":return t.stop()}},t,this)})},reducers:{updateBaseFormData:function(t,e){return Object.assign({},t,{baseFormData:Object.assign({},t.baseFormData,e.formData)})},updateRootStateProp:function(t,e){return Object.assign({},t,e.updateObj)},initComplete:function(t,e){return c()(e.cacheData)>0?Object.assign({},e.cacheData,{columnData:u.a.columnData,list:e.data.list,recordsTotal:e.data.recordsTotal,currentPage:e.data.currentPage,pageSize:e.data.pageSize}):Object.assign({},t,e.data)},queryListComplete:function(t,e){return Object.assign({},t,e.data)}}};e.default=d}.call(e,r(16))},3190:function(t,e,r){"use strict";var a=r(676),n=r(3191);e.a={baseElements:{fastquery:{type:"input",componentOptions:{text:"",placeholder:a.a.fastquery}}},baseFormData:{fastquery:""},columnData:[{title:a.a.printer_name,field:"printer_name",width:"80px"},{title:a.a.printer_conf,field:"printer_conf",width:"90px"},{title:a.a.current_seq,field:"current_seq",width:"100px"},{title:a.a.status_flg,field:"valid_flg",width:"80px",template:function(t){var e=a.a.status_valid,r=a.a.status_invalid;return"1"===t.text?{toolTipText:e,content:e}:{toolTipText:r,content:r}}}],rightOperTop:{},rightOperCenter:{new:{text:a.a.new,className:"icon20 img50",permsCode:n.a[33200060],keyboard:"GF16"},batchInvalid:{text:a.a.batchInvalid,className:"icon20 img48",permsCode:n.a[33200061],keyboard:"GF18"}},rightOperBottom:{},dataIdentityPropName:"printer_id",setFor:"",checkedData:[],currentPage:1,pageSize:30,recordsTotal:0,list:[],dictionaryData:{},routeParams:{},permsData:n.a}},3191:function(t,e,r){"use strict";e.a={33200060:["33200060","33200060G","33200060H"],33200061:["33200061","33200061G","33200061H"]}},3192:function(t,e,r){"use strict";function a(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){function a(n,s){try{var i=e[n](s),c=i.value}catch(t){return void r(t)}if(!i.done)return Promise.resolve(c).then(function(t){a("next",t)},function(t){a("throw",t)});t(c)}return a("next")})}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.d(e,"a",function(){return o});var s=r(36),i=r.n(s),c=r(257),u=(r(260),r(487)),o=(new u.a,function t(){var e=this;n(this,t),this.init=function(){var t=a(i.a.mark(function t(r){var a,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.queryPosPrinterList(r)]);case 2:return a=t.sent,console.log("resultData",a),n={},t.abrupt("return",{listData:a[0],dictTyps:n});case 6:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryPosPrinterList=function(){var t=a(i.a.mark(function t(r){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.a)("/bs/3310010/PosPrinter/queryPosPrinterList","get",r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.savePosPrinter=function(){var t=a(i.a.mark(function t(r){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.a)("/bs/3310010/PosPrinter/savePosPrinter","post",r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.delIdsPosPrinter=function(){var t=a(i.a.mark(function t(r){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.a)("/bs/3310010/PosPrinter/delIdsPosPrinter","post",r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()})}});